<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- <link rel="stylesheet" href="../lib/bootstrap.css" type="text/css"/> -->
  <link rel="stylesheet" href="../lib/bootstrap.min.css" type="text/css"/>
  <script type="text/javascript" src="../lib/bootstrap.bundle.js"></script>
  <script type="text/javascript" src="../lib/jquery-3.6.1.min.js"></script>
  <script type="text/javascript" src="../lib/multiselect-dropdown.js"></script>
  <title>Profile</title>
  <style>
.multiselect-dropdown-list{
  color:darkslategray
}
  </style>
</head>
<body>
  <!-- <h1>Elevate fitness homepage</h1> -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <!-- <a class="navbar-brand" href="#">Navbar</a> -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="./home.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./profile.html">Profile</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./index.html">Dashboard</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Workouts
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" href="./workouts/workouts-home.html">My workouts</a></li>
            <li><a class="dropdown-item" href="./workouts/create-workout.html">Create workout</a></li>
            <li><a class="dropdown-item" href="./workouts/explore-workouts.html">Explore workouts</a></li>
          </ul>
        </li>
      </ul>
      <div class="form-check form-switch ms-auto mt-3 me-3">
        <label class="form-check-label ms-3" for="lightSwitch">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="25"
            height="25"
            fill="currentColor"
            class="bi bi-brightness-high"
            viewBox="0 0 16 16"
          >
            <path
              d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"
            />
          </svg>
        </label>
<input class="form-check-input" type="checkbox" id="lightSwitch" />
      </div>
        <a class="nav-link" href="../index.html">Logout</a>

    </div>
  </div>
</nav>
<div class="profile container bootstrap snippets">
    <h1>Edit Profile</h1>

</div>
  <script type="text/javascript" src="../lib/switch.js"></script>
<script type="text/javascript">

const exerciseList = [
  {
    muscle: "Chest",
    id: 1,
    exercises: [
      { id: 101, exercise: "Dumbell Bench Press" },
      { id: 102, exercise: "Close-Grip Bench Press" },
      { id: 103, exercise: "Incline Bench Press" },
      { id: 104, exercise: "Decline Bench Press" },
      { id: 105, exercise: "Barbell Bench Press" },
      { id: 106, exercise: "Dumbell Flyes" },
      { id: 107, exercise: "Pushups" },
      { id: 108, exercise: "Cables Flyes" },
      { id: 109, exercise: "Chest Dips" },
      { id: 110, exercise: "Machine Chest Press" },
    ],
  },
  {
    muscle: "Biceps",
    id: 2,
    exercises: [
      { id: 201, exercise: "Hammer Curls" },
      { id: 202, exercise: "EZ Bar Curls" },
      { id: 203, exercise: "Dumbell Bicep Curls" },
      { id: 204, exercise: "Barbell Bicep Curls" },
      { id: 205, exercise: "Cable Curls" },
      { id: 206, exercise: "Machine Bicep Curls" },
      { id: 207, exercise: "Preacher Curls" },
    ],
  },
  {
    muscle: "Back",
    id: 3,
    exercises: [
      { id: 301, exercise: "Pullups" },
      { id: 302, exercise: "Bent-Over Row" },
      { id: 303, exercise: "Back Extension" },
      { id: 304, exercise: "Deadlift" },
      { id: 305, exercise: "Lat Pulldown" },
      { id: 306, exercise: "Seated Cable Row" },
      { id: 307, exercise: "Single Arm Dumbell Row" },
      { id: 308, exercise: "Incline Dumbbell Row" },
      { id: 309, exercise: "Chinups" },
      { id: 310, exercise: "Deficit Deadlift" },
      { id: 311, exercise: "Chest Supported Row" },
    ],
  },
  {
    muscle: "Triceps",
    id: 4,
    exercises: [
      { id: 401, exercise: "Triceps Dip" },
      { id: 402, exercise: "Dumbell Floor Press" },
      { id: 403, exercise: "EX Bar Skullcrusher" },
      { id: 404, exercise: "Lying Triceps Extension" },
      { id: 405, exercise: "Cable Triceps Pushdowns" },
      { id: 406, exercise: "Seated Triceps Press" },
      { id: 407, exercise: "One-Arm Overhead Extension" },
      { id: 408, exercise: "Close-Grip Pushups" },
    ],
  },
  {
    muscle: "Shoulders",
    id: 5,
    exercises: [
      { id: 501, exercise: "Military Press" },
      { id: 502, exercise: "Dumbell Press" },
      { id: 503, exercise: "Barbell Overhead Press" },
      { id: 504, exercise: "Lateral Raises" },
      { id: 505, exercise: "Face Pulls" },
      { id: 506, exercise: "Clean and Press" },
      { id: 507, exercise: "Front Raises" },
      { id: 508, exercise: "Machine Shoulder Press" },
      { id: 509, exercise: "Bent-Over Reverse Flyes" },
      { id: 510, exercise: "Upright Rows" },
    ],
  },
  {
    muscle: "Abs",
    id: 6,
    exercises: [
      { id: 601, exercise: "Crunches" },
      { id: 602, exercise: "Ab Wheel Rollout" },
      { id: 603, exercise: "Mountain Climbers" },
      { id: 604, exercise: "Leg Raises" },
      { id: 605, exercise: "Planks" },
      { id: 606, exercise: "Deadbug" },
      { id: 607, exercise: "Russian Twist" },
      { id: 608, exercise: "Flutter Kick" },
      { id: 609, exercise: "Seated Knee Tuck" },
      { id: 610, exercise: "Side Plank" },
      { id: 611, exercise: "Situps" },
      { id: 612, exercise: "V-Ups" },
      { id: 613, exercise: "Woodchoppers" },
    ],
  },
  {
    muscle: "Legs",
    id: 7,
    exercises: [
      { id: 701, exercise: "Front Squat" },
      { id: 702, exercise: "Back Squat" },
      { id: 703, exercise: "Leg Press" },
      { id: 704, exercise: "Lunges" },
      { id: 705, exercise: "Bulgarian Split Squat" },
      { id: 706, exercise: "Step Up" },
      { id: 707, exercise: "Leg Extensions" },
      { id: 708, exercise: "Romanian Deadlift" },
      { id: 709, exercise: "Lying Leg Curls" },
      { id: 710, exercise: "Seated Leg Curls" },
      { id: 711, exercise: "Kettlebell Swings" },
      { id: 712, exercise: "Hip Thrusts" },
      { id: 713, exercise: "Glute Bridges" },
      { id: 714, exercise: "Calf Raises" },
      { id: 715, exercise: "Goblet Squat" },
      { id: 716, exercise: "Single Leg Deadlift" },
      { id: 717, exercise: "Hack Squat" },
      { id: 718, exercise: "Good Morning" },
      { id: 719, exercise: "Dumbbell RDL" },
      { id: 720, exercise: "Cable Glute Kickback" },
      { id: 721, exercise: "Machine Hip Abductors" },
      { id: 722, exercise: "Machine Hip Adductors" },
    ],
  },
  {
    muscle: "Traps",
    id: 8,
    exercises: [
      { id: 801, exercise: "Dumbells Shrugs" },
      { id: 802, exercise: "Barbell Shrugs" },
      { id: 803, exercise: "Farmer's Walk" },
      { id: 804, exercise: "Rack Pulls" },
      { id: 805, exercise: "Pullup Shrug" },
      { id: 806, exercise: "Dumbbell Overhead Carry" },
      { id: 807, exercise: "Snatch-Grip Barbell High Pull" },
      { id: 808, exercise: "Romanian Deadlift" },
      { id: 809, exercise: "Leg Curls" },
      { id: 810, exercise: "Kettlebell Swings" },
    ],
  },
];
let fields = {
    'username': 'Joey Salad',
    'email': 'test@test.com',
    'password': 'test',
    'birthday': '1994-03-21',
    'height': '185cm',
    'weight': '135lbs',
    'bodyfat' : '7%',
    'workout_preferences': [1,2,3,4]
}


const content = $('.profile')
 const capitalize = (str) => {
   return `${str[0].toUpperCase()}${str.slice(1)}`
 }

let profile_picture = `
      <div class="col-md-3">
        <div class="text-center">
          <img src="./profile_pic.png" class="avatar img-circle img-thumbnail" alt="avatar">
          <h6>Upload a different photo...</h6>
          <input type="file" class="form-control">
        </div>
      </div>
`

const unitSplit = (test) => {
    let unit  = test.trim().split(/\d+/g).filter(n=>n).pop().trim();
    let value = test.trim().split(unit).filter(n=>n)[0].trim()
    return [value, unit]
}

content.append('<div class="row">')
const row = $('.row')
row.append(profile_picture)

let personal_info = `<div class="col-md-9 info">
        <h3>Personal info</h3>
        <form class="form-horizontal" role="form">
`
row.append(personal_info)
const info = $('.form-horizontal') 

const measurements = ['bodyfat','height','weight']

Object.entries(fields).forEach(([k,v])=>{
    let group = `
          <div class="form-group">
            <label class="col-lg-3 control-label">${capitalize(k)}</label>
            <div class="col-lg-8">
    `
    let input = `<input class="form-control" type="text" value="${v}">`

    if (measurements.includes(k)){
        let [value, unit] = unitSplit(v);
        input = `
        <div class="input-group mb-3">
        <input type="number" class="form-control" placeholder="${value}">
        <span class="input-group-text">${unit}</span>
        </div>`
    }
    if (k == 'birthday'){
        input = `<input class="form-control birthday" id="date" type="date" value="${v}">`
    }
    if (k == 'workout_preferences'){
        input = `
            <select id="user_pref" class="form-select" multiple>
                ${exerciseList.map((val, idx)=>{
                    return `<option class="text-dark" value="${idx+1}" ${(v.includes(idx+1) ? 'selected' : '')}>${val.muscle}</option>`
                })}
            </select>
        `
    }
    info.append($(group + input))
});


info.append($('<div class="mt-4"><button id="btn-save" type="button" class="btn btn-primary">Save</button>'))

$('.container').on('click', '#btn-save', ()=>{
    // alert('Your data has been saved')
    $('#btn-save').text('Your data has been saved')
    $('#btn-save').addClass('btn-success')
    setTimeout(()=>{
        $('#btn-save').removeClass('btn-success')
        $('#btn-save').text('Save')
    }, 1500)
})

// export default {fields}

</script>
</body>
</html>